<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>新疆旅游攻略地图 | 2026年新疆旅游数据可视化</title>
    <script src="./echarts.min.js"></script>
    <link rel="stylesheet" href="./css/all.min.css">
    <script src="./xinjiang1.js"></script>
    <style>
        /* CSS保持不变，这里省略以节省空间 */
        :root {
            /* 明亮渐变色方案 */
            --sky-blue: #1E88E5;
            --light-sky: #42A5F5;
            --pale-blue: #90CAF9;
            --cloud-white: #F5F7FA;
            --sunrise-orange: #FF9800;
            --golden-yellow: #FFC107;
            --sunset-pink: #F48FB1;
            --grass-green: #66BB6A;
            --desert-sand: #FFCC80;
            --oasis-teal: #26A69A;

            --text-dark: #263238;
            --text-gray: #546E7A;
            --text-light: #78909C;

            --shadow-light: 0 8px 25px rgba(0, 0, 0, 0.08);
            --shadow-medium: 0 12px 35px rgba(0, 0, 0, 0.12);
            --shadow-strong: 0 20px 50px rgba(0, 0, 0, 0.15);

            --border-radius: 16px;
            --border-radius-sm: 10px;
            --transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Noto Sans SC', 'Microsoft YaHei', 'PingFang SC', sans-serif;
            background: linear-gradient(135deg,
                    rgba(255, 255, 255, 0.95) 0%,
                    rgba(245, 247, 250, 0.98) 100%);
            color: var(--text-dark);
            overflow-x: hidden;
            min-height: 100vh;
            line-height: 1.7;
            position: relative;
        }

        /* 背景渐变层 */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image:
                radial-gradient(circle at 10% 20%, rgba(66, 165, 245, 0.1) 0%, transparent 40%),
                radial-gradient(circle at 90% 30%, rgba(255, 152, 0, 0.08) 0%, transparent 40%),
                radial-gradient(circle at 50% 80%, rgba(102, 187, 106, 0.1) 0%, transparent 40%),
                radial-gradient(circle at 20% 70%, rgba(38, 166, 154, 0.08) 0%, transparent 40%);
            z-index: -1;
            animation: gradientShift 15s ease-in-out infinite alternate;
        }

        @keyframes gradientShift {
            0% { opacity: 0.8; }
            100% { opacity: 1; }
        }

        /* 开场动画 */
        .intro-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background: linear-gradient(135deg,
                    rgba(255, 255, 255, 0.98) 0%,
                    rgba(245, 247, 250, 0.95) 50%,
                    rgba(255, 204, 128, 0.1) 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            transition: var(--transition);
            padding: 20px;
            overflow: hidden;
            cursor: pointer;
            backdrop-filter: blur(3px);
        }

        .intro-container::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background:
                repeating-linear-gradient(45deg,
                    transparent,
                    transparent 10px,
                    rgba(255, 193, 7, 0.03) 10px,
                    rgba(255, 193, 7, 0.03) 20px);
            animation: sunShine 20s linear infinite;
            z-index: 0;
        }

        @keyframes sunShine {
            0% { transform: translateX(0) translateY(0) rotate(0deg); }
            100% { transform: translateX(-50%) translateY(-50%) rotate(360deg); }
        }

        .intro-container.hidden {
            opacity: 0;
            transform: translateY(-100%);
            pointer-events: none;
        }

        .main-title {
            font-size: 5rem;
            font-weight: 900;
            text-align: center;
            margin-bottom: 2rem;
            position: relative;
            z-index: 2;
            line-height: 1.1;
            letter-spacing: -1px;
            padding: 0 20px;
            filter: drop-shadow(0 5px 15px rgba(0, 0, 0, 0.1));
            animation: titleGlow 3s ease-in-out infinite alternate;
        }

        @keyframes titleGlow {
            0% { filter: drop-shadow(0 5px 15px rgba(0, 0, 0, 0.1)); }
            100% { filter: drop-shadow(0 10px 25px rgba(255, 152, 0, 0.3)); }
        }

        /* 优化后的彩虹渐变文字效果 */
        .main-title span {
            display: inline-block;
            opacity: 0;
            transform: translateY(30px) scale(0.8);
            animation: letterFloat 0.8s cubic-bezier(0.4, 0, 0.2, 1) forwards;
            margin: 0 3px;
            position: relative;
            transition: var(--transition);
            
            /* 彩虹渐变 - 每个字不同颜色 */
            background: linear-gradient(135deg, 
                #FF6B6B 0%,   /* 红色 */
                #FF8E53 14%,  /* 橙红色 */
                #FFD166 28%,  /* 亮橙色 */
                #06D6A0 42%,  /* 翡翠绿 */
                #118AB2 56%,  /* 湛蓝色 */
                #073B4C 70%,  /* 深蓝色 */
                #7209B7 84%,  /* 紫色 */
                #F72585 100%  /* 玫红色 */
            );
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            background-size: 300% 300%;
            animation: 
                letterFloat 0.8s cubic-bezier(0.4, 0, 0.2, 1) forwards,
                gradientFlow 3s infinite alternate;
        }

        /* 每个字使用渐变的不同部分 */
        .main-title span:nth-child(1) { background-position: 0% 0%; animation-delay: 0.5s, 0.5s; }
        .main-title span:nth-child(2) { background-position: 7% 7%; animation-delay: 0.6s, 0.6s; }
        .main-title span:nth-child(3) { background-position: 14% 14%; animation-delay: 0.7s, 0.7s; }
        .main-title span:nth-child(4) { background-position: 21% 21%; animation-delay: 0.8s, 0.8s; }
        .main-title span:nth-child(5) { background-position: 28% 28%; animation-delay: 0.9s, 0.9s; }
        .main-title span:nth-child(6) { background-position: 35% 35%; animation-delay: 1.0s, 1.0s; }
        .main-title span:nth-child(7) { background-position: 42% 42%; animation-delay: 1.1s, 1.1s; }
        .main-title span:nth-child(8) { background-position: 49% 49%; animation-delay: 1.2s, 1.2s; }
        .main-title span:nth-child(9) { background-position: 56% 56%; animation-delay: 1.3s, 1.3s; }
        .main-title span:nth-child(10) { background-position: 63% 63%; animation-delay: 1.4s, 1.4s; }
        .main-title span:nth-child(11) { background-position: 70% 70%; animation-delay: 1.5s, 1.5s; }
        .main-title span:nth-child(12) { background-position: 77% 77%; animation-delay: 1.6s, 1.6s; }
        .main-title span:nth-child(13) { background-position: 84% 84%; animation-delay: 1.7s, 1.7s; }
        .main-title span:nth-child(14) { background-position: 91% 91%; animation-delay: 1.8s, 1.8s; }
        .main-title span:nth-child(15) { background-position: 100% 100%; animation-delay: 1.9s, 1.9s; }
        .main-title span:nth-child(16) { background-position: 93% 93%; animation-delay: 2.0s, 2.0s; }
        .main-title span:nth-child(17) { background-position: 86% 86%; animation-delay: 2.1s, 2.1s; }

        @keyframes letterFloat {
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        @keyframes gradientFlow {
            0% { background-position: 0% 0%; }
            100% { background-position: 100% 100%; }
        }

        .main-title span:hover {
            transform: translateY(-8px) scale(1.1);
            filter: brightness(1.3) drop-shadow(0 5px 15px rgba(0,0,0,0.2));
            animation-play-state: paused;
        }

        .subtitle-container {
            text-align: center;
            max-width: 900px;
            margin: 0 auto;
            position: relative;
            z-index: 2;
            opacity: 0;
            animation: fadeIn 1s forwards 2.5s;
        }

        @keyframes fadeIn {
            to { opacity: 1; }
        }

        .subtitle {
            font-size: 1.8rem;
            margin-bottom: 3rem;
            color: var(--text-gray);
            font-weight: 500;
            padding: 25px 40px;
            background: linear-gradient(135deg,
                    rgba(255, 255, 255, 0.95) 0%,
                    rgba(255, 255, 255, 0.85) 100%);
            border-radius: var(--border-radius);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.8);
            box-shadow: var(--shadow-medium);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }

        .subtitle::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg,
                    var(--sunrise-orange),
                    var(--golden-yellow),
                    var(--oasis-teal),
                    var(--sky-blue));
            border-radius: var(--border-radius);
            z-index: -1;
            opacity: 0.3;
            transition: var(--transition);
        }

        .subtitle:hover::before {
            opacity: 0.5;
            animation: borderRotate 3s linear infinite;
        }

        @keyframes borderRotate {
            0% { filter: hue-rotate(0deg); }
            100% { filter: hue-rotate(360deg); }
        }

        .keyword-carousel {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 3rem 0;
            position: relative;
            z-index: 2;
            flex-wrap: wrap;
            opacity: 0;
            animation: fadeIn 1s forwards 3s;
        }

        .keyword-bubble {
            padding: 20px 35px;
            font-size: 2rem;
            font-weight: 700;
            color: var(--text-dark);
            background: linear-gradient(135deg,
                    rgba(255, 193, 7, 0.2) 0%,
                    rgba(255, 152, 0, 0.25) 100%);
            border-radius: 50px;
            border: 2px solid rgba(255, 193, 7, 0.4);
            box-shadow: var(--shadow-light);
            transition: var(--transition);
            cursor: pointer;
            position: relative;
            overflow: hidden;
            animation: bubbleFloat 4s ease-in-out infinite alternate;
        }

        .keyword-bubble:nth-child(1) { animation-delay: 0.2s; }
        .keyword-bubble:nth-child(2) { animation-delay: 0.4s; }
        .keyword-bubble:nth-child(3) { animation-delay: 0.6s; }
        .keyword-bubble:nth-child(4) { animation-delay: 0.8s; }
        .keyword-bubble:nth-child(5) { animation-delay: 1.0s; }
        .keyword-bubble:nth-child(6) { animation-delay: 1.2s; }
        .keyword-bubble:nth-child(7) { animation-delay: 1.4s; }

        @keyframes bubbleFloat {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }

        .keyword-bubble:hover {
            transform: translateY(-10px) scale(1.1);
            box-shadow: var(--shadow-strong);
            background: linear-gradient(135deg,
                    rgba(255, 193, 7, 0.3) 0%,
                    rgba(255, 152, 0, 0.4) 100%);
            color: white;
        }

        .enter-gateway {
            margin-top: 4rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 2rem;
            position: relative;
            z-index: 2;
            opacity: 0;
            animation: fadeIn 1s forwards 4s;
        }

        .gateway-btn {
            background: linear-gradient(135deg,
                    var(--sunrise-orange) 0%,
                    var(--golden-yellow) 100%);
            border: none;
            color: white;
            padding: 25px 60px;
            font-size: 1.8rem;
            font-weight: 600;
            border-radius: 60px;
            cursor: pointer;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
            box-shadow: var(--shadow-medium);
        }

        .gateway-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg,
                    transparent,
                    rgba(255, 255, 255, 0.4),
                    transparent);
            transition: left 0.7s;
        }

        .gateway-btn:hover::before {
            left: 100%;
        }

        .gateway-btn:hover {
            transform: translateY(-8px) scale(1.05);
            box-shadow: var(--shadow-strong);
        }

        .gateway-icon {
            font-size: 3rem;
            color: var(--sunrise-orange);
            animation: portalSpin 3s infinite linear;
        }

        @keyframes portalSpin {
            0% { transform: rotate(0deg) scale(1); }
            50% { transform: rotate(180deg) scale(1.2); }
            100% { transform: rotate(360deg) scale(1); }
        }

        /* 主内容区域 */
        .main-content {
            display: none;
            opacity: 0;
            transition: opacity 0.8s ease;
            min-height: 100vh;
            position: relative;
            background: linear-gradient(135deg,
                    rgba(245, 247, 250, 0.98) 0%,
                    rgba(255, 255, 255, 0.95) 100%);
        }

        .main-content.active {
            display: block;
            opacity: 1;
        }

        /* 导航栏 */
        .sun-nav {
            background: linear-gradient(135deg,
                    rgba(255, 255, 255, 0.98) 0%,
                    rgba(255, 255, 255, 0.95) 100%);
            backdrop-filter: blur(20px);
            padding: 25px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 2px solid rgba(255, 193, 7, 0.3);
            box-shadow: var(--shadow-light);
            animation: navSlide 0.8s ease;
        }

        @keyframes navSlide {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .nav-brand {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .nav-icon {
            font-size: 2.5rem;
            background: linear-gradient(45deg, var(--sunrise-orange), var(--golden-yellow));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: iconPulse 2s infinite alternate;
        }

        @keyframes iconPulse {
            0% {
                transform: scale(1);
                filter: drop-shadow(0 0 5px rgba(255, 152, 0, 0.3));
            }
            100% {
                transform: scale(1.1);
                filter: drop-shadow(0 0 15px rgba(255, 152, 0, 0.6));
            }
        }

        .nav-title {
            font-size: 2rem;
            font-weight: 800;
            background: linear-gradient(45deg, var(--sunrise-orange), var(--oasis-teal));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            letter-spacing: 0.5px;
        }

        /* 主仪表板 */
        .dashboard-container {
            padding: 50px;
            max-width: 1600px;
            margin: 0 auto;
        }

        /* 地图容器 */
        .map-crystal {
            width: 100%;
            height: 800px;
            position: relative;
            background: linear-gradient(135deg,
                    rgba(255, 255, 255, 0.95) 0%,
                    rgba(245, 247, 250, 0.98) 100%);
            border-radius: var(--border-radius);
            overflow: hidden;
            border: 3px solid rgba(255, 193, 7, 0.3);
            box-shadow: var(--shadow-strong);
            animation: crystalAppear 1s ease;
            backdrop-filter: blur(10px);
        }

        @keyframes crystalAppear {
            from {
                opacity: 0;
                transform: translateY(50px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .map-header {
            padding: 35px 50px;
            background: linear-gradient(90deg,
                    rgba(255, 255, 255, 0.95) 0%,
                    rgba(255, 255, 255, 0.85) 100%);
            border-bottom: 2px solid rgba(255, 193, 7, 0.3);
            position: relative;
            overflow: hidden;
        }

        .map-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg,
                    transparent 0%,
                    rgba(255, 193, 7, 0.1) 50%,
                    transparent 100%);
            animation: lightFlow 3s infinite linear;
        }

        @keyframes lightFlow {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .map-title {
            font-size: 2.2rem;
            font-weight: 800;
            background: linear-gradient(45deg, var(--sunrise-orange), var(--oasis-teal));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 15px;
            position: relative;
            z-index: 1;
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .map-title i {
            font-size: 2rem;
            animation: compassSpin 10s infinite linear;
        }

        @keyframes compassSpin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .map-subtitle {
            font-size: 1.2rem;
            color: var(--text-gray);
            position: relative;
            z-index: 1;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        #xinjiang-map {
            width: 100%;
            height: calc(100% - 150px);
        }

        /* 加载动画 */
        .loading-sun {
            position: absolute;
            top: 150px;
            left: 0;
            width: 100%;
            height: calc(100% - 150px);
            background: linear-gradient(135deg,
                    rgba(255, 255, 255, 0.95) 0%,
                    rgba(255, 255, 255, 0.9) 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 40px;
            z-index: 10;
            transition: var(--transition);
            backdrop-filter: blur(10px);
        }

        .sun-spinner {
            width: 100px;
            height: 100px;
            position: relative;
        }

        .sun-spinner::before,
        .sun-spinner::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 50%;
        }

        .sun-spinner::before {
            background: radial-gradient(circle at 30% 30%, var(--golden-yellow), var(--sunrise-orange));
            animation: sunPulse 2s infinite ease-in-out;
            box-shadow: 0 0 50px rgba(255, 193, 7, 0.6);
        }

        .sun-spinner::after {
            border: 4px solid transparent;
            border-top-color: var(--sunrise-orange);
            border-bottom-color: var(--golden-yellow);
            animation: sunRotate 1.5s infinite linear;
        }

        @keyframes sunPulse {
            0%, 100% {
                transform: scale(0.9);
                opacity: 0.8;
            }
            50% {
                transform: scale(1.1);
                opacity: 1;
            }
        }

        @keyframes sunRotate {
            to { transform: rotate(360deg); }
        }

        .loading-text {
            font-size: 1.4rem;
            color: var(--text-gray);
            text-align: center;
            max-width: 400px;
            line-height: 1.6;
            position: relative;
            padding: 25px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: var(--border-radius);
            border: 2px solid rgba(255, 193, 7, 0.2);
            box-shadow: var(--shadow-light);
        }

        /* 信息面板 */
        .info-cloud {
            position: absolute;
            top: 150px;
            right: 40px;
            width: 380px;
            max-height: calc(100% - 200px);
            background: linear-gradient(135deg,
                    rgba(255, 255, 255, 0.95) 0%,
                    rgba(255, 255, 255, 0.9) 100%);
            backdrop-filter: blur(25px);
            border-radius: var(--border-radius);
            border: 2px solid rgba(255, 193, 7, 0.4);
            padding: 30px;
            box-shadow: var(--shadow-strong);
            transform: translateX(120%);
            transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 50;
            overflow: hidden;
        }

        .info-cloud::before {
            content: '';
            position: absolute;
            top: -10px;
            left: -10px;
            right: -10px;
            bottom: -10px;
            background: linear-gradient(45deg,
                    rgba(255, 193, 7, 0.1),
                    rgba(66, 165, 245, 0.1),
                    rgba(102, 187, 106, 0.1));
            border-radius: var(--border-radius);
            z-index: -1;
            filter: blur(20px);
            opacity: 0.5;
        }

        .info-cloud.active {
            transform: translateX(0);
        }

        .cloud-header {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid rgba(255, 193, 7, 0.3);
        }

        .cloud-icon {
            font-size: 1.8rem;
            background: linear-gradient(45deg, var(--sunrise-orange), var(--oasis-teal));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: cloudFloat 3s infinite ease-in-out;
        }

        @keyframes cloudFloat {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .cloud-title {
            font-size: 1.6rem;
            font-weight: 700;
            background: linear-gradient(45deg, var(--sunrise-orange), var(--oasis-teal));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            flex: 1;
        }

        /* 数据卡片 */
        .data-flower {
            display: grid;
            gap: 25px;
            margin: 35px 0;
        }

        .data-petal {
            background: linear-gradient(135deg,
                    rgba(255, 193, 7, 0.15) 0%,
                    rgba(102, 187, 106, 0.15) 100%);
            border-radius: var(--border-radius);
            padding: 30px;
            border: 2px solid rgba(255, 193, 7, 0.3);
            transition: var(--transition);
            cursor: pointer;
            position: relative;
            overflow: hidden;
            text-align: center;
        }

        .data-petal:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: var(--shadow-strong);
            border-color: var(--sunrise-orange);
        }

        .petal-value {
            font-size: 2.5rem;
            font-weight: 800;
            background: linear-gradient(45deg, var(--sunrise-orange), var(--oasis-teal));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }

        .petal-label {
            font-size: 1rem;
            color: var(--text-gray);
            text-transform: uppercase;
            letter-spacing: 1.5px;
            font-weight: 600;
        }

        /* 链接按钮 */
        .region-link {
            display: inline-flex;
            align-items: center;
            gap: 15px;
            padding: 18px 40px;
            background: linear-gradient(135deg,
                    var(--sunrise-orange) 0%,
                    var(--golden-yellow) 100%);
            color: white;
            text-decoration: none;
            border-radius: 50px;
            font-weight: 600;
            transition: var(--transition);
            box-shadow: var(--shadow-medium);
            position: relative;
            overflow: hidden;
            margin-top: 20px;
            border: 2px solid rgba(255, 255, 255, 0.3);
        }

        .region-link:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: var(--shadow-strong);
        }

        /* 模态框 */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.95);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
            backdrop-filter: blur(10px);
        }

        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background: linear-gradient(135deg,
                    rgba(255, 255, 255, 0.98) 0%,
                    rgba(245, 247, 250, 0.95) 100%);
            width: 90%;
            max-width: 750px;
            border-radius: var(--border-radius);
            padding: 50px;
            border: 3px solid rgba(255, 193, 7, 0.4);
            box-shadow: var(--shadow-strong);
            transform: translateY(50px) scale(0.95);
            transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .modal-overlay.active .modal-content {
            transform: translateY(0) scale(1);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 40px;
        }

        .modal-title {
            font-size: 2.5rem;
            font-weight: 800;
            background: linear-gradient(45deg, var(--sunrise-orange), var(--oasis-teal));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .modal-close {
            background: linear-gradient(135deg, var(--sunrise-orange), var(--golden-yellow));
            border: none;
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: var(--shadow-light);
        }

        .modal-close:hover {
            transform: rotate(90deg) scale(1.1);
            box-shadow: var(--shadow-medium);
        }

        /* 响应式设计 */
        @media (max-width: 1400px) {
            .main-title { font-size: 4rem; }
            .keyword-bubble { font-size: 1.8rem; padding: 18px 30px; }
            .map-crystal { height: 700px; }
        }

        @media (max-width: 1200px) {
            .dashboard-container { padding: 30px 20px; }
            .info-cloud {
                position: relative;
                top: auto;
                right: auto;
                width: 100%;
                max-height: 450px;
                margin-top: 30px;
                transform: translateY(50px);
            }
            .info-cloud.active { transform: translateY(0); }
            #xinjiang-map { height: 550px; }
        }

        @media (max-width: 768px) {
            .main-title { font-size: 3rem; }
            .subtitle { font-size: 1.4rem; padding: 20px; }
            .keyword-bubble { font-size: 1.5rem; padding: 15px 25px; }
            .gateway-btn { padding: 20px 40px; font-size: 1.5rem; }
            .sun-nav { padding: 15px 20px; }
            .nav-title { font-size: 1.5rem; }
            .map-title { font-size: 1.8rem; }
            .modal-content { padding: 30px 20px; }
            .modal-title { font-size: 2rem; }
        }

        @media (max-width: 480px) {
            .main-title { font-size: 2.5rem; }
            .keyword-bubble { font-size: 1.2rem; padding: 12px 20px; }
            .gateway-btn { padding: 15px 30px; font-size: 1.2rem; }
            .dashboard-container { padding: 20px 15px; }
            .map-header { padding: 20px; }
        }
    </style>
</head>
<body>
    <!-- 开场动画 -->
    <div class="intro-container" id="introContainer">
        <div class="main-title">
            <span>都</span><span>2</span><span>0</span><span>2</span><span>6</span><span>年</span>
            <span>了</span><span>你</span><span>还</span><span>不</span><span>来</span><span>新</span>
            <span>疆</span><span>旅</span><span>游</span><span>吗</span><span>？</span>
        </div>
        <div class="subtitle-container">
            <div class="subtitle">点击屏幕，探索新疆旅游数据可视化</div>
            <div class="keyword-carousel">
                <div class="keyword-bubble">新疆</div>
                <div class="keyword-bubble">旅游</div>
                <div class="keyword-bubble">攻略</div>
                <div class="keyword-bubble">地图</div>
                <div class="keyword-bubble">数据</div>
                <div class="keyword-bubble">可视化</div>
                <div class="keyword-bubble">2026</div>
            </div>
            <div class="enter-gateway">
                <button class="gateway-btn">点击进入新疆旅游数据可视化平台</button>
                <div class="gateway-icon"><i class="fas fa-map-marked-alt"></i></div>
            </div>
        </div>
    </div>

    <!-- 主内容区域 -->
    <div class="main-content" id="mainContent">
        <!-- 导航栏 -->
        <nav class="sun-nav">
            <div class="nav-brand">
                <i class="fas fa-map-marked-alt nav-icon"></i>
                <span class="nav-title">新疆旅游攻略地图 | 2026年数据可视化平台</span>
            </div>
        </nav>

        <!-- 主仪表板 -->
        <div class="dashboard-container">
            <!-- 地图容器 -->
            <div class="map-crystal">
                <div class="map-header">
                    <h1 class="map-title">
                        <i class="fas fa-compass"></i>
                        新疆维吾尔自治区旅游数据分布图
                    </h1>
                    <p class="map-subtitle">
                        <i class="fas fa-chart-line"></i>
                        2024年各地区旅游接待人数（单位：万人次）
                    </p>
                </div>
                <div id="xinjiang-map"></div>
                
                <!-- 加载动画 -->
                <div class="loading-sun" id="loadingOverlay">
                    <div class="sun-spinner"></div>
                    <div class="loading-text">正在加载新疆地图数据... 请稍候，我们将带您领略大美新疆</div>
                </div>

                <!-- 信息面板 -->
                <div class="info-cloud" id="infoCloud">
                    <div class="cloud-header">
                        <i class="fas fa-info-circle cloud-icon"></i>
                        <h2 class="cloud-title" id="cloudTitle">区域信息</h2>
                    </div>
                    <div id="cloudContent">
                        <p style="color: var(--text-gray); line-height: 1.8; margin-bottom: 25px;">
                            点击地图上的区域查看详细旅游数据，包括接待人数、增长率、景区数量等统计信息。
                        </p>
                        <div class="data-flower" id="dataFlower"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 详情模态框 -->
    <div class="modal-overlay" id="modalOverlay">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="modalTitle"></h2>
                <button class="modal-close" id="modalClose">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div id="modalBody"></div>
        </div>
    </div>

    <script>
        /**
         * 新疆旅游数据可视化应用
         * 优化后的模块化代码结构
         */
        class XinjiangTourismApp {
            constructor() {
                // 配置常量
                this.config = {
                    loadingDuration: 1500,
                    mapCenter: [85, 42],
                    mapZoom: 1.2,
                    colorRange: {
                        min: 300,
                        max: 1900
                    }
                };

                // 旅游数据
                this.tourismData = {
                    "乌鲁木齐市": {
                        name: "乌鲁木齐市",
                        value: 1850,
                        growth: "8.5%",
                        attractions: 42,
                        description: "新疆首府，现代化国际商贸中心。天山天池、红山公园等著名景点聚集地，融合了现代都市与自然风光。",
                        link: "li/乌鲁木齐.html"
                    },
                    "克拉玛依市": {
                        name: "克拉玛依市",
                        value: 620,
                        growth: "6.8%",
                        attractions: 18,
                        description: "石油之城，拥有世界魔鬼城、黑油山等独特地质景观。工业文明与自然奇观完美结合。",
                        link: "li/克拉玛依.html"
                    },
                    "吐鲁番市": {
                        name: "吐鲁番市",
                        value: 890,
                        growth: "9.2%",
                        attractions: 28,
                        description: "火洲名城，葡萄沟、火焰山、交河故城等历史文化遗产丰富，是中国最热的地方。",
                        link: "tuerdi/吐鲁番/吐鲁番.html"
                    },
                    "哈密市": {
                        name: "哈密市",
                        value: 580,
                        growth: "7.1%",
                        attractions: 22,
                        description: "新疆东大门，以哈密瓜闻名，拥有巴里坤草原、哈密王府等景点，是丝绸之路重镇。",
                        link: "tuerdi/哈密/哈密.html"
                    },
                    "昌吉回族自治州": {
                        name: "昌吉回族自治州",
                        value: 720,
                        growth: "8.1%",
                        attractions: 31,
                        description: "天山北坡经济带核心区域，江布拉克、天山天池西岸等自然景观壮丽。",
                        link: "https://baike.baidu.com/item/%E6%98%8C%E5%90%89%E5%9B%9E%E6%97%8F%E8%87%AA%E6%B2%BB%E5%B7%9E/132496"
                    },
                    "博尔塔拉蒙古自治州": {
                        name: "博尔塔拉蒙古自治州",
                        value: 420,
                        growth: "10.5%",
                        attractions: 19,
                        description: "博州是丝绸之路重要节点，赛里木湖、艾比湖湿地等生态旅游资源丰富。",
                        link: "li/博尔塔拉.html"
                    },
                    "巴音郭楞蒙古自治州": {
                        name: "巴音郭楞蒙古自治州",
                        value: 1100,
                        growth: "9.8%",
                        attractions: 36,
                        description: "中国面积最大的地级行政区，拥有巴音布鲁克草原、罗布人村寨等独特景观。",
                        link: "https://baike.baidu.com/item/%E5%B7%B4%E9%9F%B3%E9%83%AD%E6%A3%9A%E8%92%99%E5%8F%A4%E8%87%AA%E6%B2%BB%E5%B7%9E/132508"
                    },
                    "阿克苏地区": {
                        name: "阿克苏地区",
                        value: 680,
                        growth: "8.7%",
                        attractions: 25,
                        description: "龟兹文化发祥地，天山托木尔大峡谷、克孜尔千佛洞等历史自然景观并存。",
                        link: "https://baike.baidu.com/item/%E9%98%BF%E5%85%8B%E8%8B%8F%E5%9C%B0%E5%8C%BA/132514"
                    },
                    "克孜勒苏柯尔克孜自治州": {
                        name: "克孜勒苏柯尔克孜自治州",
                        value: 320,
                        growth: "12.3%",
                        attractions: 15,
                        description: "帕米尔高原上的明珠，以慕士塔格峰、喀拉库勒湖等高原风光著称。",
                        link: "tuerdi/克孜勒苏/克孜勒苏.html"
                    },
                    "喀什地区": {
                        name: "喀什地区",
                        value: 950,
                        growth: "11.2%",
                        attractions: 34,
                        description: "新疆历史文化名城，喀什古城、艾提尕尔清真寺等维吾尔文化代表。",
                        link: "tuerdi/喀什/喀什.html"
                    },
                    "和田地区": {
                        name: "和田地区",
                        value: 530,
                        growth: "9.5%",
                        attractions: 21,
                        description: "玉石之乡，丝绸之路南道重镇，以和田玉、沙漠风光和维吾尔风情闻名。",
                        link: "tuerdi/和田/和田.html"
                    },
                    "伊犁哈萨克自治州": {
                        name: "伊犁哈萨克自治州",
                        value: 1350,
                        growth: "10.1%",
                        attractions: 45,
                        description: "塞外江南，那拉提草原、喀拉峻草原、果子沟大桥等自然人文景观丰富。",
                        link: "https://baike.baidu.com/item/%E4%BC%8A%E7%8A%81%E5%93%88%E8%90%A8%E5%85%8B%E8%87%AA%E6%B2%BB%E5%B7%9E/132538"
                    },
                    "塔城地区": {
                        name: "塔城地区",
                        value: 480,
                        growth: "7.9%",
                        attractions: 20,
                        description: "边陲重镇，巴克图口岸、巴尔鲁克山等边境风光独特。",
                        link: "li/塔城.html"
                    },
                    "阿勒泰地区": {
                        name: "阿勒泰地区",
                        value: 820,
                        growth: "11.8%",
                        attractions: 32,
                        description: "冰雪旅游胜地，喀纳斯湖、禾木村、可可托海等四季皆宜的旅游目的地。",
                        link: "https://baike.baidu.com/item/%E9%98%BF%E5%8B%92%E6%B3%B0%E5%9C%B0%E5%8C%BA/132550"
                    }
                };

                // DOM元素引用
                this.elements = {
                    introContainer: document.getElementById('introContainer'),
                    mainContent: document.getElementById('mainContent'),
                    loadingOverlay: document.getElementById('loadingOverlay'),
                    infoCloud: document.getElementById('infoCloud'),
                    cloudTitle: document.getElementById('cloudTitle'),
                    cloudContent: document.getElementById('cloudContent'),
                    modalOverlay: document.getElementById('modalOverlay'),
                    modalTitle: document.getElementById('modalTitle'),
                    modalBody: document.getElementById('modalBody'),
                    xinjiangMap: document.getElementById('xinjiang-map')
                };

                // ECharts实例
                this.chart = null;

                // 初始化应用
                this.init();
            }

            /**
             * 初始化应用
             */
            init() {
                this.bindIntroEvents();
                this.bindModalEvents();
                this.bindKeyboardEvents();
            }

            /**
             * 绑定开场动画事件
             */
            bindIntroEvents() {
                const enterPlatform = () => this.enterMainPlatform();
                
                this.elements.introContainer.addEventListener('click', enterPlatform);
                document.querySelector('.gateway-btn').addEventListener('click', enterPlatform);
            }

            /**
             * 进入主平台
             */
            enterMainPlatform() {
                this.elements.introContainer.classList.add('hidden');
                setTimeout(() => {
                    this.elements.mainContent.classList.add('active');
                    this.initMap();
                }, 800);
            }

            /**
             * 初始化地图
             */
            initMap() {
                try {
                    // 检查地图数据是否加载
                    if (!window.xingjiangData) {
                        throw new Error('新疆地图数据未加载，请确保 xinjiang1.js 文件存在');
                    }

                    // 初始化ECharts
                    this.chart = echarts.init(this.elements.xinjiangMap);
                    
                    // 注册地图数据
                    echarts.registerMap("XinJiang", window.xingjiangData);

                    // 准备地图数据
                    const mapData = this.prepareMapData();

                    // 配置地图选项
                    const option = this.getMapOption(mapData);

                    // 设置地图选项
                    this.chart.setOption(option);

                    // 绑定地图事件
                    this.bindMapEvents();

                    // 模拟加载完成
                    this.simulateLoadingComplete();

                } catch (error) {
                    console.error('地图初始化失败:', error);
                    this.showError('地图加载失败，请刷新页面重试');
                }
            }

            /**
             * 准备地图数据
             */
            prepareMapData() {
                const mapData = [];
                for (const region in this.tourismData) {
                    mapData.push({
                        name: region,
                        value: this.tourismData[region].value
                    });
                }
                return mapData;
            }

            /**
             * 获取地图配置选项
             */
            getMapOption(mapData) {
                return {
                    backgroundColor: 'transparent',
                    tooltip: {
                        trigger: 'item',
                        backgroundColor: 'rgba(255, 255, 255, 0.95)',
                        borderColor: 'rgba(255, 193, 7, 0.4)',
                        textStyle: { color: '#263238' },
                        formatter: (params) => this.formatTooltip(params)
                    },
                    visualMap: {
                        left: 30,
                        top: 30,
                        min: this.config.colorRange.min,
                        max: this.config.colorRange.max,
                        text: ['高', '低'],
                        realtime: false,
                        calculable: true,
                        inRange: {
                            color: ["#FFF9C4", "#FFECB3", "#FFE082", "#FFD54F", "#FFB300"]
                        },
                        textStyle: { color: '#263238' },
                        backgroundColor: 'rgba(255, 255, 255, 0.9)',
                        borderColor: 'rgba(255, 193, 7, 0.4)',
                        borderRadius: 8,
                        borderWidth: 2
                    },
                    geo: {
                        map: 'XinJiang',
                        roam: true,
                        zoom: this.config.mapZoom,
                        center: this.config.mapCenter,
                        label: {
                            show: true,
                            color: '#263238',
                            fontSize: 12,
                            fontWeight: 'bold'
                        },
                        itemStyle: {
                            areaColor: '#FFF9C4',
                            borderColor: '#FFA726',
                            borderWidth: 1.5,
                            shadowColor: 'rgba(255, 152, 0, 0.2)',
                            shadowBlur: 15
                        },
                        emphasis: {
                            itemStyle: {
                                areaColor: '#FFB300',
                                borderColor: '#FF9800',
                                borderWidth: 2.5,
                                shadowColor: 'rgba(255, 152, 0, 0.4)',
                                shadowBlur: 25
                            },
                            label: {
                                color: '#fff',
                                fontWeight: 'bold',
                                fontSize: 14,
                                backgroundColor: 'rgba(255, 152, 0, 0.8)',
                                padding: [4, 8],
                                borderRadius: 4
                            }
                        }
                    },
                    series: [{
                        name: '旅游接待人数',
                        type: 'map',
                        map: 'XinJiang',
                        geoIndex: 0,
                        data: mapData,
                        emphasis: {
                            label: {
                                show: true,
                                color: '#fff',
                                fontWeight: 'bold',
                                fontSize: 14,
                                backgroundColor: 'rgba(255, 152, 0, 0.8)',
                                padding: [4, 8],
                                borderRadius: 4
                            }
                        },
                        selectedMode: 'single',
                        select: {
                            itemStyle: { areaColor: '#FF9800' }
                        }
                    }]
                };
            }

            /**
             * 格式化工具提示
             */
            formatTooltip(params) {
                const data = this.tourismData[params.name];
                if (!data) return params.name;

                return `
                    <div style="font-size:16px;font-weight:bold;margin-bottom:10px;background:linear-gradient(45deg, #FF9800, #FFC107);-webkit-background-clip:text;background-clip:text;color:transparent;">
                        ${params.name}
                    </div>
                    <div style="font-size:13px;line-height:1.6;color:#546E7A">
                        <div>接待人数：<b style="color:#FF9800">${data.value}万人次</b></div>
                        <div>同比增长：<b style="color:#66BB6A">${data.growth}</b></div>
                        <div>景区数量：<b style="color:#1E88E5">${data.attractions}个</b></div>
                        <div style="margin-top:8px;color:#78909C">${data.description.substring(0, 60)}...</div>
                    </div>
                `;
            }

            /**
             * 绑定地图事件
             */
            bindMapEvents() {
                // 地图点击事件
                this.chart.on('click', (params) => {
                    const regionName = params.name;
                    const data = this.tourismData[regionName];
                    if (data) {
                        this.showRegionDetail(regionName, data);
                    }
                });

                // 地图鼠标移动事件
                this.chart.on('mouseover', (params) => {
                    const regionName = params.name;
                    const data = this.tourismData[regionName];
                    if (data) {
                        this.updateInfoPanel(regionName, data);
                    }
                });

                this.chart.on('mouseout', () => {
                    this.elements.infoCloud.classList.remove('active');
                });

                // 窗口大小变化时重绘地图
                window.addEventListener('resize', () => {
                    if (this.chart) {
                        this.chart.resize();
                    }
                });
            }

            /**
             * 模拟加载完成
             */
            simulateLoadingComplete() {
                setTimeout(() => {
                    this.elements.loadingOverlay.style.opacity = '0';
                    setTimeout(() => {
                        this.elements.loadingOverlay.style.display = 'none';
                    }, 500);
                }, this.config.loadingDuration);
            }

            /**
             * 更新信息面板
             */
            updateInfoPanel(regionName, data) {
                this.elements.cloudTitle.textContent = regionName;
                
                // 生成数据卡片
                const dataFlowerHTML = `
                    <div class="data-petal" onclick="app.showRegionDetail('${regionName}', app.tourismData['${regionName}'])">
                        <div class="petal-value">${data.value}</div>
                        <div class="petal-label">接待人数(万人次)</div>
                    </div>
                    <div class="data-petal" onclick="app.showRegionDetail('${regionName}', app.tourismData['${regionName}'])">
                        <div class="petal-value">${data.growth}</div>
                        <div class="petal-label">同比增长</div>
                    </div>
                    <div class="data-petal" onclick="app.showRegionDetail('${regionName}', app.tourismData['${regionName}'])">
                        <div class="petal-value">${data.attractions}</div>
                        <div class="petal-label">景区数量(个)</div>
                    </div>
                `;

                // 添加链接
                const linkHTML = data.link ? `
                    <a href="${data.link}" target="_blank" class="region-link">
                        <i class="fas fa-external-link-alt"></i>
                        查看更多关于${regionName}
                    </a>
                ` : '';

                this.elements.cloudContent.innerHTML = `
                    <p style="color: var(--text-gray); line-height: 1.8; margin-bottom: 25px;">
                        ${data.description}
                    </p>
                    <div class="data-flower" id="dataFlower">
                        ${dataFlowerHTML}
                    </div>
                    ${linkHTML}
                `;

                this.elements.infoCloud.classList.add('active');
            }

            /**
             * 显示区域详情模态框
             */
            showRegionDetail(regionName, data) {
                this.elements.modalTitle.textContent = regionName;

                const linkHTML = data.link ? `
                    <div style="margin-top: 40px; text-align: center;">
                        <a href="${data.link}" target="_blank" class="region-link">
                            <i class="fas fa-external-link-alt"></i>
                            查看${regionName}百度百科详情
                        </a>
                    </div>
                ` : '';

                this.elements.modalBody.innerHTML = `
                    <div style="color: var(--text-gray); line-height: 1.8; font-size: 1.2rem; margin-bottom: 40px;">
                        ${data.description}
                    </div>
                    
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 25px; margin-bottom: 40px;">
                        <div style="background: linear-gradient(135deg, rgba(255, 193, 7, 0.2), rgba(255, 152, 0, 0.3)); 
                                    padding: 30px; border-radius: var(--border-radius); text-align: center; border: 3px solid rgba(255, 193, 7, 0.4);">
                            <div style="font-size: 1rem; color: var(--text-gray); margin-bottom: 15px; font-weight: 600;">接待人数</div>
                            <div style="font-size: 3rem; font-weight: 800; background: linear-gradient(45deg, #FF9800, #FFC107); -webkit-background-clip: text; background-clip: text; color: transparent;">${data.value}</div>
                            <div style="font-size: 1rem; color: var(--text-gray); margin-top: 10px;">万人次</div>
                        </div>
                        <div style="background: linear-gradient(135deg, rgba(102, 187, 106, 0.2), rgba(76, 175, 80, 0.3)); 
                                    padding: 30px; border-radius: var(--border-radius); text-align: center; border: 3px solid rgba(102, 187, 106, 0.4);">
                            <div style="font-size: 1rem; color: var(--text-gray); margin-bottom: 15px; font-weight: 600;">同比增长</div>
                            <div style="font-size: 3rem; font-weight: 800; background: linear-gradient(45deg, #66BB6A, #4CAF50); -webkit-background-clip: text; background-clip: text; color: transparent;">${data.growth}</div>
                            <div style="font-size: 1rem; color: var(--text-gray); margin-top: 10px;">较2023年</div>
                        </div>
                        <div style="background: linear-gradient(135deg, rgba(66, 165, 245, 0.2), rgba(30, 136, 229, 0.3)); 
                                    padding: 30px; border-radius: var(--border-radius); text-align: center; border: 3px solid rgba(66, 165, 245, 0.4);">
                            <div style="font-size: 1rem; color: var(--text-gray); margin-bottom: 15px; font-weight: 600;">景区数量</div>
                            <div style="font-size: 3rem; font-weight: 800; background: linear-gradient(45deg, #42A5F5, #1E88E5); -webkit-background-clip: text; background-clip: text; color: transparent;">${data.attractions}</div>
                            <div style="font-size: 1rem; color: var(--text-gray); margin-top: 10px;">个景点</div>
                        </div>
                    </div>
                    
                    <div style="background: linear-gradient(135deg, rgba(255, 255, 255, 0.9), rgba(245, 247, 250, 0.9)); 
                                padding: 25px; border-radius: var(--border-radius); border: 2px solid rgba(255, 193, 7, 0.3);">
                        <div style="color: var(--text-gray); font-size: 1.1rem; text-align: center; font-weight: 500;">
                            <i class="fas fa-info-circle" style="color: #FF9800; margin-right: 10px;"></i> 
                            数据来源：新疆旅游局2024年度报告
                        </div>
                    </div>
                    
                    ${linkHTML}
                `;

                this.elements.modalOverlay.classList.add('active');
                document.body.style.overflow = 'hidden';
            }

            /**
             * 绑定模态框事件
             */
            bindModalEvents() {
                const closeModal = () => {
                    this.elements.modalOverlay.classList.remove('active');
                    document.body.style.overflow = 'auto';
                };

                document.getElementById('modalClose').addEventListener('click', closeModal);
                this.elements.modalOverlay.addEventListener('click', (e) => {
                    if (e.target === this.elements.modalOverlay) {
                        closeModal();
                    }
                });
            }

            /**
             * 绑定键盘事件
             */
            bindKeyboardEvents() {
                document.addEventListener('keydown', (e) => {
                    if (e.key === 'Escape') {
                        this.elements.modalOverlay.classList.remove('active');
                        document.body.style.overflow = 'auto';
                    }
                });
            }

            /**
             * 显示错误信息
             */
            showError(message) {
                // 创建错误提示元素
                const errorDiv = document.createElement('div');
                errorDiv.style.cssText = `
                    position: fixed;
                    top: 50%;
                    left: 50%;
                    transform: translate(-50%, -50%);
                    background: linear-gradient(135deg, #FF5252, #F44336);
                    color: white;
                    padding: 20px 40px;
                    border-radius: 10px;
                    font-size: 1.2rem;
                    z-index: 3000;
                    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
                    animation: errorShake 0.5s;
                `;
                errorDiv.textContent = message;
                document.body.appendChild(errorDiv);

                // 3秒后自动移除
                setTimeout(() => {
                    errorDiv.remove();
                }, 3000);
            }

            /**
             * 重新加载地图
             */
            reloadMap() {
                if (this.elements.xinjiangMap) {
                    this.elements.xinjiangMap.innerHTML = '';
                    setTimeout(() => {
                        this.initMap();
                    }, 100);
                }
            }
        }

        // 创建应用实例
        const app = new XinjiangTourismApp();

        // 页面加载完成后的额外初始化
        document.addEventListener('DOMContentLoaded', function() {
            // 添加错误动画样式
            const style = document.createElement('style');
            style.textContent = `
                @keyframes errorShake {
                    0%, 100% { transform: translate(-50%, -50%) translateX(0); }
                    25% { transform: translate(-50%, -50%) translateX(-10px); }
                    75% { transform: translate(-50%, -50%) translateX(10px); }
                }
            `;
            document.head.appendChild(style);
        });

        // 暴露到全局作用域以便内联事件处理程序使用
        window.app = app;
        window.closeModal = function() {
            app.elements.modalOverlay.classList.remove('active');
            document.body.style.overflow = 'auto';
        };
    </script>
</body>
</html>