<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="2026年新疆旅游攻略地图，提供详细的旅游数据可视化分析">
    <meta name="keywords" content="新疆旅游,旅游攻略,数据可视化,2026旅游,新疆地图">
    <meta name="author" content="新疆旅游局">
    <title>新疆旅游攻略地图 | 2026年新疆旅游数据可视化</title>

    <!-- 预加载关键资源 -->
    <link rel="preconnect" href="https://cdn.jsdelivr.net">

    <!-- 外部库 -->
    <script src="./echarts.min.js"></script>
    <link rel="stylesheet" href="./css/all.min.css">
    <script src="./xinjiang1.js"></script>

    <!-- 优化后的CSS样式 -->
    <style>
        /* ========================================
           CSS变量定义 - 统一色彩方案
        ======================================== */
        :root {
            /* 主色调 - 日出主题 */
            --primary-orange: #FF9800;
            --primary-yellow: #FFC107;
            --primary-blue: #1E88E5;
            --primary-green: #66BB6A;
            --primary-teal: #26A69A;

            /* 辅助色彩 */
            --light-orange: #FFE0B2;
            --light-blue: #BBDEFB;
            --light-green: #C8E6C9;
            --light-yellow: #FFF9C4;
            --cloud-white: #F5F7FA;
            --pale-blue: #E3F2FD;

            /* 文本色彩 */
            --text-dark: #263238;
            --text-gray: #546E7A;
            --text-light: #78909C;
            --text-white: #FFFFFF;

            /* 阴影和效果 */
            --shadow-light: 0 4px 12px rgba(0, 0, 0, 0.08);
            --shadow-medium: 0 8px 24px rgba(0, 0, 0, 0.12);
            --shadow-strong: 0 16px 48px rgba(0, 0, 0, 0.16);

            /* 边框和圆角 */
            --border-radius: 16px;
            --border-radius-sm: 10px;
            --border-radius-lg: 24px;

            /* 过渡动画 */
            --transition-fast: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
            --transition-normal: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            --transition-slow: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);

            /* 布局尺寸 */
            --nav-height: 80px;
            --map-height: 800px;
            --info-panel-width: 380px;
        }

        /* ========================================
           基础样式重置
        ======================================== */
        *,
        *::before,
        *::after {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            font-size: 16px;
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Noto Sans SC', 'Microsoft YaHei', 'PingFang SC', sans-serif;
            background: linear-gradient(135deg, var(--cloud-white) 0%, #FFFFFF 100%);
            color: var(--text-dark);
            line-height: 1.6;
            overflow-x: hidden;
            min-height: 100vh;
        }

        /* ========================================
           背景装饰层
        ======================================== */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image:
                radial-gradient(circle at 10% 20%, rgba(66, 165, 245, 0.08) 0%, transparent 40%),
                radial-gradient(circle at 90% 30%, rgba(255, 152, 0, 0.06) 0%, transparent 40%),
                radial-gradient(circle at 50% 80%, rgba(102, 187, 106, 0.08) 0%, transparent 40%);
            z-index: -1;
            animation: bgShift 20s ease-in-out infinite alternate;
        }

        @keyframes bgShift {
            0% {
                opacity: 0.8;
                transform: scale(1);
            }

            100% {
                opacity: 1;
                transform: scale(1.05);
            }
        }

        /* ========================================
           开场动画区域
        ======================================== */
        .intro-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.98) 0%, rgba(245, 247, 250, 0.95) 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            transition: var(--transition-slow);
            padding: 20px;
            cursor: pointer;
            backdrop-filter: blur(5px);
        }

        .intro-container.hidden {
            opacity: 0;
            transform: translateY(-100%);
            pointer-events: none;
        }

        /* 装饰性背景动画 */
        .intro-container::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(255, 193, 7, 0.02) 10px, rgba(255, 193, 7, 0.02) 20px);
            animation: sunShine 30s linear infinite;
            z-index: 0;
        }

        @keyframes sunShine {
            0% {
                transform: translateX(0) translateY(0) rotate(0deg);
            }

            100% {
                transform: translateX(-50%) translateY(-50%) rotate(360deg);
            }
        }

        /* 主标题样式 */
        .main-title {
            font-size: clamp(2.5rem, 5vw, 5rem);
            font-weight: 900;
            text-align: center;
            margin-bottom: 2rem;
            position: relative;
            z-index: 2;
            line-height: 1.1;
            letter-spacing: -1px;
            padding: 0 20px;
            filter: drop-shadow(0 5px 15px rgba(0, 0, 0, 0.1));
        }

        /* 彩虹渐变文字效果 */
        .main-title span {
            display: inline-block;
            opacity: 0;
            transform: translateY(30px) scale(0.8);
            animation: letterFloat 0.8s cubic-bezier(0.4, 0, 0.2, 1) forwards;
            margin: 0 2px;
            background: linear-gradient(135deg, var(--primary-orange), var(--primary-yellow), var(--primary-green), var(--primary-blue), var(--primary-teal));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            background-size: 300% 300%;
            transition: var(--transition-normal);
        }

        .main-title span:nth-child(1) {
            animation-delay: 0.5s;
        }

        .main-title span:nth-child(2) {
            animation-delay: 0.6s;
        }

        .main-title span:nth-child(3) {
            animation-delay: 0.7s;
        }

        .main-title span:nth-child(4) {
            animation-delay: 0.8s;
        }

        .main-title span:nth-child(5) {
            animation-delay: 0.9s;
        }

        .main-title span:nth-child(6) {
            animation-delay: 1.0s;
        }

        .main-title span:nth-child(7) {
            animation-delay: 1.1s;
        }

        .main-title span:nth-child(8) {
            animation-delay: 1.2s;
        }

        .main-title span:nth-child(9) {
            animation-delay: 1.3s;
        }

        .main-title span:nth-child(10) {
            animation-delay: 1.4s;
        }

        .main-title span:nth-child(11) {
            animation-delay: 1.5s;
        }

        .main-title span:nth-child(12) {
            animation-delay: 1.6s;
        }

        .main-title span:nth-child(13) {
            animation-delay: 1.7s;
        }

        .main-title span:nth-child(14) {
            animation-delay: 1.8s;
        }

        .main-title span:nth-child(15) {
            animation-delay: 1.9s;
        }

        .main-title span:nth-child(16) {
            animation-delay: 2.0s;
        }

        .main-title span:nth-child(17) {
            animation-delay: 2.1s;
        }

        @keyframes letterFloat {
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .main-title span:hover {
            transform: translateY(-5px) scale(1.1);
            filter: brightness(1.2);
        }

        /* 副标题区域 */
        .subtitle-container {
            text-align: center;
            max-width: 900px;
            margin: 0 auto;
            position: relative;
            z-index: 2;
            opacity: 0;
            animation: fadeIn 1s forwards 2.5s;
        }

        @keyframes fadeIn {
            to {
                opacity: 1;
            }
        }

        .subtitle {
            font-size: clamp(1.2rem, 2.5vw, 1.8rem);
            margin-bottom: 3rem;
            color: var(--text-gray);
            font-weight: 500;
            padding: 25px 40px;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.85) 100%);
            border-radius: var(--border-radius);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.8);
            box-shadow: var(--shadow-medium);
            transition: var(--transition-normal);
            position: relative;
            overflow: hidden;
        }

        .subtitle::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, var(--primary-orange), var(--primary-yellow), var(--primary-teal), var(--primary-blue));
            border-radius: var(--border-radius);
            z-index: -1;
            opacity: 0.1;
            transition: var(--transition-normal);
        }

        .subtitle:hover::before {
            opacity: 0.2;
        }

        /* 关键词气泡 */
        .keyword-carousel {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 3rem 0;
            position: relative;
            z-index: 2;
            flex-wrap: wrap;
            opacity: 0;
            animation: fadeIn 1s forwards 3s;
        }

        .keyword-bubble {
            padding: 15px 25px;
            font-size: clamp(1.2rem, 2vw, 1.8rem);
            font-weight: 700;
            color: var(--text-dark);
            background: linear-gradient(135deg, rgba(255, 193, 7, 0.2) 0%, rgba(255, 152, 0, 0.25) 100%);
            border-radius: 50px;
            border: 2px solid rgba(255, 193, 7, 0.4);
            box-shadow: var(--shadow-light);
            transition: var(--transition-normal);
            cursor: pointer;
            position: relative;
            overflow: hidden;
            animation: bubbleFloat 4s ease-in-out infinite alternate;
        }

        .keyword-bubble:nth-child(1) {
            animation-delay: 0.2s;
        }

        .keyword-bubble:nth-child(2) {
            animation-delay: 0.4s;
        }

        .keyword-bubble:nth-child(3) {
            animation-delay: 0.6s;
        }

        .keyword-bubble:nth-child(4) {
            animation-delay: 0.8s;
        }

        .keyword-bubble:nth-child(5) {
            animation-delay: 1.0s;
        }

        .keyword-bubble:nth-child(6) {
            animation-delay: 1.2s;
        }

        .keyword-bubble:nth-child(7) {
            animation-delay: 1.4s;
        }

        @keyframes bubbleFloat {

            0%,
            100% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-10px);
            }
        }

        .keyword-bubble:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: var(--shadow-strong);
            background: linear-gradient(135deg, rgba(255, 193, 7, 0.3) 0%, rgba(255, 152, 0, 0.4) 100%);
            color: white;
        }

        /* 入口按钮 */
        .enter-gateway {
            margin-top: 3rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 2rem;
            position: relative;
            z-index: 2;
            opacity: 0;
            animation: fadeIn 1s forwards 4s;
        }

        .gateway-btn {
            background: linear-gradient(135deg, var(--primary-orange) 0%, var(--primary-yellow) 100%);
            border: none;
            color: white;
            padding: 20px 50px;
            font-size: clamp(1.2rem, 2vw, 1.6rem);
            font-weight: 600;
            border-radius: 60px;
            cursor: pointer;
            transition: var(--transition-normal);
            position: relative;
            overflow: hidden;
            box-shadow: var(--shadow-medium);
        }

        .gateway-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
            transition: left 0.7s;
        }

        .gateway-btn:hover::before {
            left: 100%;
        }

        .gateway-btn:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: var(--shadow-strong);
        }

        .gateway-icon {
            font-size: 2.5rem;
            color: var(--primary-orange);
            animation: portalSpin 3s infinite linear;
        }

        @keyframes portalSpin {
            0% {
                transform: rotate(0deg) scale(1);
            }

            50% {
                transform: rotate(180deg) scale(1.1);
            }

            100% {
                transform: rotate(360deg) scale(1);
            }
        }

        /* ========================================
           主内容区域
        ======================================== */
        .main-content {
            display: none;
            opacity: 0;
            transition: opacity 0.8s ease;
            min-height: 100vh;
            position: relative;
            background: linear-gradient(135deg, var(--cloud-white) 0%, #FFFFFF 100%);
        }

        .main-content.active {
            display: block;
            opacity: 1;
        }

        /* 导航栏 */
        .sun-nav {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.98) 0%, rgba(255, 255, 255, 0.95) 100%);
            backdrop-filter: blur(20px);
            padding: 20px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 2px solid rgba(255, 193, 7, 0.3);
            box-shadow: var(--shadow-light);
            animation: navSlide 0.8s ease;
            height: var(--nav-height);
        }

        @keyframes navSlide {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .nav-brand {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .nav-icon {
            font-size: 2rem;
            background: linear-gradient(45deg, var(--primary-orange), var(--primary-yellow));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            animation: iconPulse 2s infinite alternate;
        }

        @keyframes iconPulse {
            0% {
                transform: scale(1);
                filter: drop-shadow(0 0 5px rgba(255, 152, 0, 0.3));
            }

            100% {
                transform: scale(1.1);
                filter: drop-shadow(0 0 15px rgba(255, 152, 0, 0.6));
            }
        }

        .nav-title {
            font-size: clamp(1.2rem, 2vw, 1.6rem);
            font-weight: 800;
            background: linear-gradient(45deg, var(--primary-orange), var(--primary-teal));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            letter-spacing: 0.5px;
        }

        /* 主仪表板 */
        .dashboard-container {
            padding: 40px 30px;
            max-width: 1600px;
            margin: 0 auto;
        }

        /* 地图容器 */
        .map-crystal {
            width: 100%;
            height: var(--map-height);
            position: relative;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(245, 247, 250, 0.98) 100%);
            border-radius: var(--border-radius);
            overflow: hidden;
            border: 3px solid rgba(255, 193, 7, 0.3);
            box-shadow: var(--shadow-strong);
            animation: crystalAppear 1s ease;
            backdrop-filter: blur(10px);
        }

        @keyframes crystalAppear {
            from {
                opacity: 0;
                transform: translateY(50px) scale(0.95);
            }

            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .map-header {
            padding: 25px 40px;
            background: linear-gradient(90deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.85) 100%);
            border-bottom: 2px solid rgba(255, 193, 7, 0.3);
            position: relative;
            overflow: hidden;
        }

        .map-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent 0%, rgba(255, 193, 7, 0.1) 50%, transparent 100%);
            animation: lightFlow 3s infinite linear;
        }

        @keyframes lightFlow {
            0% {
                transform: translateX(-100%);
            }

            100% {
                transform: translateX(100%);
            }
        }

        .map-title {
            font-size: clamp(1.5rem, 3vw, 2rem);
            font-weight: 800;
            background: linear-gradient(45deg, var(--primary-orange), var(--primary-teal));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            margin-bottom: 10px;
            position: relative;
            z-index: 1;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .map-title i {
            font-size: 1.5rem;
            animation: compassSpin 10s infinite linear;
        }

        @keyframes compassSpin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        .map-subtitle {
            font-size: 1rem;
            color: var(--text-gray);
            position: relative;
            z-index: 1;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        #xinjiang-map {
            width: 100%;
            height: calc(100% - 120px);
        }

        /* 加载动画 */
        .loading-sun {
            position: absolute;
            top: 120px;
            left: 0;
            width: 100%;
            height: calc(100% - 120px);
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.9) 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 30px;
            z-index: 10;
            transition: var(--transition-normal);
            backdrop-filter: blur(10px);
        }

        .sun-spinner {
            width: 80px;
            height: 80px;
            position: relative;
        }

        .sun-spinner::before,
        .sun-spinner::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 50%;
        }

        .sun-spinner::before {
            background: radial-gradient(circle at 30% 30%, var(--primary-yellow), var(--primary-orange));
            animation: sunPulse 2s infinite ease-in-out;
            box-shadow: 0 0 40px rgba(255, 193, 7, 0.5);
        }

        .sun-spinner::after {
            border: 3px solid transparent;
            border-top-color: var(--primary-orange);
            border-bottom-color: var(--primary-yellow);
            animation: sunRotate 1.5s infinite linear;
        }

        @keyframes sunPulse {

            0%,
            100% {
                transform: scale(0.9);
                opacity: 0.8;
            }

            50% {
                transform: scale(1.1);
                opacity: 1;
            }
        }

        @keyframes sunRotate {
            to {
                transform: rotate(360deg);
            }
        }

        .loading-text {
            font-size: 1.1rem;
            color: var(--text-gray);
            text-align: center;
            max-width: 400px;
            line-height: 1.6;
            position: relative;
            padding: 20px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: var(--border-radius);
            border: 2px solid rgba(255, 193, 7, 0.2);
            box-shadow: var(--shadow-light);
        }

        /* 信息面板 */
        .info-cloud {
            position: absolute;
            top: 150px;
            right: 30px;
            width: var(--info-panel-width);
            max-height: calc(100% - 200px);
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.9) 100%);
            backdrop-filter: blur(25px);
            border-radius: var(--border-radius);
            border: 2px solid rgba(255, 193, 7, 0.4);
            padding: 25px;
            box-shadow: var(--shadow-strong);
            transform: translateX(120%);
            transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 50;
            overflow: hidden;
        }

        .info-cloud::before {
            content: '';
            position: absolute;
            top: -10px;
            left: -10px;
            right: -10px;
            bottom: -10px;
            background: linear-gradient(45deg, rgba(255, 193, 7, 0.1), rgba(66, 165, 245, 0.1), rgba(102, 187, 106, 0.1));
            border-radius: var(--border-radius);
            z-index: -1;
            filter: blur(20px);
            opacity: 0.5;
        }

        .info-cloud.active {
            transform: translateX(0);
        }

        .cloud-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid rgba(255, 193, 7, 0.3);
        }

        .cloud-icon {
            font-size: 1.5rem;
            background: linear-gradient(45deg, var(--primary-orange), var(--primary-teal));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            animation: cloudFloat 3s infinite ease-in-out;
        }

        @keyframes cloudFloat {

            0%,
            100% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-8px);
            }
        }

        .cloud-title {
            font-size: 1.4rem;
            font-weight: 700;
            background: linear-gradient(45deg, var(--primary-orange), var(--primary-teal));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            flex: 1;
        }

        /* 数据卡片 */
        .data-flower {
            display: grid;
            gap: 20px;
            margin: 25px 0;
        }

        .data-petal {
            background: linear-gradient(135deg, rgba(255, 193, 7, 0.15) 0%, rgba(102, 187, 106, 0.15) 100%);
            border-radius: var(--border-radius);
            padding: 25px;
            border: 2px solid rgba(255, 193, 7, 0.3);
            transition: var(--transition-normal);
            cursor: pointer;
            position: relative;
            overflow: hidden;
            text-align: center;
        }

        .data-petal:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: var(--shadow-strong);
            border-color: var(--primary-orange);
        }

        .petal-value {
            font-size: 2.2rem;
            font-weight: 800;
            background: linear-gradient(45deg, var(--primary-orange), var(--primary-teal));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            margin-bottom: 8px;
        }

        .petal-label {
            font-size: 0.9rem;
            color: var(--text-gray);
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 600;
        }

        /* 链接按钮 */
        .region-link {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            padding: 15px 30px;
            background: linear-gradient(135deg, var(--primary-orange) 0%, var(--primary-yellow) 100%);
            color: white;
            text-decoration: none;
            border-radius: 50px;
            font-weight: 600;
            transition: var(--transition-normal);
            box-shadow: var(--shadow-medium);
            position: relative;
            overflow: hidden;
            margin-top: 20px;
            border: 2px solid rgba(255, 255, 255, 0.3);
        }

        .region-link:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: var(--shadow-strong);
        }

        /* 模态框 */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.95);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition-normal);
            backdrop-filter: blur(10px);
        }

        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.98) 0%, rgba(245, 247, 250, 0.95) 100%);
            width: 90%;
            max-width: 750px;
            max-height: 90vh;
            overflow-y: auto;
            border-radius: var(--border-radius);
            padding: 40px;
            border: 3px solid rgba(255, 193, 7, 0.4);
            box-shadow: var(--shadow-strong);
            transform: translateY(50px) scale(0.95);
            transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
        }

        .modal-overlay.active .modal-content {
            transform: translateY(0) scale(1);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }

        .modal-title {
            font-size: clamp(1.8rem, 3vw, 2.5rem);
            font-weight: 800;
            background: linear-gradient(45deg, var(--primary-orange), var(--primary-teal));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .modal-close {
            background: linear-gradient(135deg, var(--primary-orange), var(--primary-yellow));
            border: none;
            color: white;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            cursor: pointer;
            transition: var(--transition-normal);
            box-shadow: var(--shadow-light);
        }

        .modal-close:hover {
            transform: rotate(90deg) scale(1.1);
            box-shadow: var(--shadow-medium);
        }

        /* ========================================
           响应式设计
        ======================================== */
        @media (max-width: 1400px) {
            :root {
                --map-height: 700px;
                --info-panel-width: 350px;
            }
        }

        @media (max-width: 1200px) {
            :root {
                --map-height: 650px;
            }

            .dashboard-container {
                padding: 30px 20px;
            }

            .info-cloud {
                position: relative;
                top: auto;
                right: auto;
                width: 100%;
                max-height: 400px;
                margin-top: 20px;
                transform: translateY(30px);
            }

            .info-cloud.active {
                transform: translateY(0);
            }

            #xinjiang-map {
                height: 500px;
            }
        }

        @media (max-width: 768px) {
            :root {
                --nav-height: 70px;
                --map-height: 550px;
            }

            .sun-nav {
                padding: 15px 20px;
            }

            .map-header {
                padding: 20px;
            }

            .modal-content {
                padding: 30px 20px;
            }

            .keyword-carousel {
                gap: 10px;
            }

            .keyword-bubble {
                padding: 12px 20px;
                font-size: 1.2rem;
            }

            #xinjiang-map {
                height: 450px;
            }
        }

        @media (max-width: 480px) {
            :root {
                --map-height: 450px;
                --border-radius: 12px;
            }

            .dashboard-container {
                padding: 20px 15px;
            }

            .sun-nav {
                padding: 12px 15px;
            }

            .map-header {
                padding: 15px;
            }

            .keyword-bubble {
                padding: 10px 18px;
                font-size: 1rem;
            }

            .gateway-btn {
                padding: 15px 30px;
                font-size: 1.2rem;
            }

            #xinjiang-map {
                height: 350px;
            }
        }

        /* ========================================
           无障碍和可访问性优化
        ======================================== */
        @media (prefers-reduced-motion: reduce) {

            *,
            *::before,
            *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }

        /* 高对比度模式支持 */
        @media (prefers-contrast: high) {
            :root {
                --text-dark: #000000;
                --text-gray: #333333;
                --primary-orange: #CC6600;
                --primary-blue: #003366;
            }
        }

        /* 焦点样式优化 */
        .gateway-btn:focus,
        .keyword-bubble:focus,
        .region-link:focus,
        .modal-close:focus {
            outline: 3px solid var(--primary-orange);
            outline-offset: 2px;
        }

        /* 加载状态样式 */
        .loading-state {
            pointer-events: none;
            opacity: 0.7;
        }

        /* 错误状态样式 */
        .error-state {
            border-color: #F44336 !important;
            background: linear-gradient(135deg, rgba(244, 67, 54, 0.1) 0%, rgba(244, 67, 54, 0.05) 100%) !important;
        }
    </style>
</head>

<body>
    <!-- 开场动画 -->
    <section class="intro-container" id="introContainer" role="banner" aria-label="新疆旅游数据可视化平台开场">
        <h1 class="main-title" aria-label="都2026年了你还不来新疆旅游吗？">
            <span>都</span><span>2</span><span>0</span><span>2</span><span>6</span><span>年</span>
            <span>了</span><span>你</span><span>还</span><span>不</span><span>来</span><span>新</span>
            <span>疆</span><span>旅</span><span>游</span><span>吗</span><span>？</span>
        </h1>

        <div class="subtitle-container">
            <p class="subtitle">点击屏幕，探索新疆旅游数据可视化</p>

            <div class="keyword-carousel" role="list">
                <div class="keyword-bubble" role="listitem">新疆</div>
                <div class="keyword-bubble" role="listitem">旅游</div>
                <div class="keyword-bubble" role="listitem">攻略</div>
                <div class="keyword-bubble" role="listitem">地图</div>
                <div class="keyword-bubble" role="listitem">数据</div>
                <div class="keyword-bubble" role="listitem">可视化</div>
                <div class="keyword-bubble" role="listitem">2026</div>
            </div>

            <div class="enter-gateway">
                <button class="gateway-btn" aria-label="进入新疆旅游数据可视化平台">
                    点击进入新疆旅游数据可视化平台
                </button>
                <div class="gateway-icon" aria-hidden="true">
                    <i class="fas fa-map-marked-alt"></i>
                </div>
            </div>
        </div>
    </section>

    <!-- 主内容区域 -->
    <main class="main-content" id="mainContent" role="main">
        <!-- 导航栏 -->
        <nav class="sun-nav" role="navigation" aria-label="主导航">
            <div class="nav-brand">
                <i class="fas fa-map-marked-alt nav-icon" aria-hidden="true"></i>
                <h1 class="nav-title">新疆旅游攻略地图 | 2026年数据可视化平台</h1>
            </div>
        </nav>

        <!-- 主仪表板 -->
        <div class="dashboard-container">
            <!-- 地图容器 -->
            <div class="map-crystal" role="application" aria-label="新疆旅游数据地图">
                <header class="map-header">
                    <h2 class="map-title">
                        <i class="fas fa-compass" aria-hidden="true"></i>
                        新疆维吾尔自治区旅游数据分布图
                    </h2>
                    <p class="map-subtitle">
                        <i class="fas fa-chart-line" aria-hidden="true"></i>
                        2024年各地区旅游接待人数（单位：万人次）
                    </p>
                </header>

                <div id="xinjiang-map" role="img" aria-label="新疆地图"></div>

                <!-- 加载动画 -->
                <div class="loading-sun" id="loadingOverlay" role="status" aria-live="polite">
                    <div class="sun-spinner" aria-hidden="true"></div>
                    <div class="loading-text">正在加载新疆地图数据... 请稍候，我们将带您领略大美新疆</div>
                </div>

                <!-- 信息面板 -->
                <aside class="info-cloud" id="infoCloud" role="complementary" aria-label="区域信息面板">
                    <header class="cloud-header">
                        <i class="fas fa-info-circle cloud-icon" aria-hidden="true"></i>
                        <h3 class="cloud-title" id="cloudTitle">区域信息</h3>
                    </header>
                    <div id="cloudContent">
                        <p style="color: var(--text-gray); line-height: 1.8; margin-bottom: 25px;">
                            点击地图上的区域查看详细旅游数据，包括接待人数、增长率、景区数量等统计信息。
                        </p>
                        <div class="data-flower" id="dataFlower" role="list"></div>
                    </div>
                </aside>
            </div>
        </div>
    </main>

    <!-- 详情模态框 -->
    <div class="modal-overlay" id="modalOverlay" role="dialog" aria-labelledby="modalTitle" aria-hidden="true">
        <div class="modal-content">
            <header class="modal-header">
                <h2 class="modal-title" id="modalTitle"></h2>
                <button class="modal-close" id="modalClose" aria-label="关闭详情">
                    <i class="fas fa-times" aria-hidden="true"></i>
                </button>
            </header>
            <div id="modalBody"></div>
        </div>
    </div>

    <!-- 优化后的JavaScript代码 -->
    <script>
        /**
         * 新疆旅游数据可视化应用 - 优化版
         * 特点：性能优化、错误处理完善、代码结构清晰、可维护性强
         */
        class XinjiangTourismApp {
            constructor() {
                // 配置常量
                this.config = {
                    loadingDuration: 1500,
                    mapCenter: [85, 42],
                    mapZoom: 1.2,
                    colorRange: { min: 300, max: 1900 },
                    animationDuration: 800,
                    debounceDelay: 300
                };

                // 旅游数据 - 保持不变
                this.tourismData = {
                    "乌鲁木齐市": { name: "乌鲁木齐市", value: 1850, growth: "8.5%", attractions: 42, description: "新疆首府，现代化国际商贸中心。天山天池、红山公园等著名景点聚集地，融合了现代都市与自然风光。", link: "li/乌鲁木齐.html" },
                    "克拉玛依市": { name: "克拉玛依市", value: 620, growth: "6.8%", attractions: 18, description: "石油之城，拥有世界魔鬼城、黑油山等独特地质景观。工业文明与自然奇观完美结合。", link: "li/克拉玛依.html" },
                    "吐鲁番市": { name: "吐鲁番市", value: 890, growth: "9.2%", attractions: 28, description: "火洲名城，葡萄沟、火焰山、交河故城等历史文化遗产丰富，是中国最热的地方。", link: "tuerdi/吐鲁番/吐鲁番.html" },
                    "哈密市": { name: "哈密市", value: 580, growth: "7.1%", attractions: 22, description: "新疆东大门，以哈密瓜闻名，拥有巴里坤草原、哈密王府等景点，是丝绸之路重镇。", link: "tuerdi/哈密/哈密.html" },
                    "昌吉回族自治州": { name: "昌吉回族自治州", value: 720, growth: "8.1%", attractions: 31, description: "天山北坡经济带核心区域，江布拉克、天山天池西岸等自然景观壮丽。", link: "aizizi/昌吉/昌吉.html" },
                    "博尔塔拉蒙古自治州": { name: "博尔塔拉蒙古自治州", value: 420, growth: "10.5%", attractions: 19, description: "博州是丝绸之路重要节点，赛里木湖、艾比湖湿地等生态旅游资源丰富。", link: "li/博尔塔拉.html" },
                    "巴音郭楞蒙古自治州": { name: "巴音郭楞蒙古自治州", value: 1100, growth: "9.8%", attractions: 36, description: "中国面积最大的地级行政区，拥有巴音布鲁克草原、罗布人村寨等独特景观。", link: "aizizi/巴音郭勒/巴音郭勒.html" },
                    "阿克苏地区": { name: "阿克苏地区", value: 680, growth: "8.7%", attractions: 25, description: "龟兹文化发祥地，天山托木尔大峡谷、克孜尔千佛洞等历史自然景观并存。", link: "aizizi/阿克苏/阿克苏.html" },
                    "克孜勒苏柯尔克孜自治州": { name: "克孜勒苏柯尔克孜自治州", value: 320, growth: "12.3%", attractions: 15, description: "帕米尔高原上的明珠，以慕士塔格峰、喀拉库勒湖等高原风光著称。", link: "tuerdi/克孜勒苏/克孜勒苏.html" },
                    "喀什地区": { name: "喀什地区", value: 950, growth: "11.2%", attractions: 34, description: "新疆历史文化名城，喀什古城、艾提尕尔清真寺等维吾尔文化代表。", link: "tuerdi/喀什/喀什.html" },
                    "和田地区": { name: "和田地区", value: 530, growth: "9.5%", attractions: 21, description: "玉石之乡，丝绸之路南道重镇，以和田玉、沙漠风光和维吾尔风情闻名。", link: "tuerdi/和田/和田.html" },
                    "伊犁哈萨克自治州": { name: "伊犁哈萨克自治州", value: 1350, growth: "10.1%", attractions: 45, description: "塞外江南，那拉提草原、喀拉峻草原、果子沟大桥等自然人文景观丰富。", link: "aizizi/伊犁/伊犁.html" },
                    "塔城地区": { name: "塔城地区", value: 480, growth: "7.9%", attractions: 20, description: "边陲重镇，巴克图口岸、巴尔鲁克山等边境风光独特。", link: "li/塔城.html" },
                    "阿勒泰地区": { name: "阿勒泰地区", value: 820, growth: "11.8%", attractions: 32, description: "冰雪旅游胜地，喀纳斯湖、禾木村、可可托海等四季皆宜的旅游目的地。", link: "aizizi/阿勒泰/阿勒泰.html" }
                };

                // DOM元素引用 - 使用可选链操作符
                this.elements = this.cacheElements();

                // ECharts实例
                this.chart = null;

                // 防抖和节流相关
                this.resizeTimeout = null;
                this.isLoading = false;

                // 初始化应用
                this.init();
            }

            /**
             * 缓存DOM元素引用，提高性能
             */
            cacheElements() {
                const elements = {};
                const ids = ['introContainer', 'mainContent', 'loadingOverlay', 'infoCloud', 'cloudTitle', 'cloudContent', 'modalOverlay', 'modalTitle', 'modalBody', 'xinjiang-map', 'modalClose'];

                ids.forEach(id => {
                    elements[id] = document.getElementById(id);
                });

                // 额外的元素
                elements.gatewayBtn = document.querySelector('.gateway-btn');
                elements.dataFlower = document.getElementById('dataFlower');

                return elements;
            }

            /**
             * 初始化应用
             */
            init() {
                try {
                    this.bindIntroEvents();
                    this.bindModalEvents();
                    this.bindKeyboardEvents();
                    this.bindResizeEvent();
                    this.addAccessibilitySupport();
                } catch (error) {
                    console.error('应用初始化失败:', error);
                    this.showError('应用初始化失败，请刷新页面重试');
                }
            }

            /**
             * 绑定开场动画事件
             */
            bindIntroEvents() {
                const enterPlatform = (e) => {
                    e.preventDefault();
                    this.enterMainPlatform();
                };

                // 点击任意位置进入
                this.elements.introContainer?.addEventListener('click', enterPlatform);

                // 按钮点击进入
                this.elements.gatewayBtn?.addEventListener('click', enterPlatform);

                // 键盘支持
                this.elements.gatewayBtn?.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter' || e.key === ' ') {
                        e.preventDefault();
                        this.enterMainPlatform();
                    }
                });
            }

            /**
             * 进入主平台
             */
            enterMainPlatform() {
                if (this.elements.introContainer) {
                    this.elements.introContainer.classList.add('hidden');

                    // 使用setTimeout替代固定延时
                    setTimeout(() => {
                        if (this.elements.mainContent) {
                            this.elements.mainContent.classList.add('active');
                            this.initMap();
                        }
                    }, this.config.animationDuration);
                }
            }

            /**
             * 初始化地图 - 优化版本
             */
            initMap() {
                try {
                    // 检查必要资源
                    if (!window.xingjiangData) {
                        throw new Error('新疆地图数据未加载，请确保 xinjiang1.js 文件存在并已正确加载');
                    }

                    if (!window.echarts) {
                        throw new Error('ECharts库未加载，请检查网络连接');
                    }

                    // 显示加载状态
                    this.setLoadingState(true);

                    // 初始化ECharts
                    this.chart = echarts.init(this.elements['xinjiang-map']);

                    // 注册地图数据
                    echarts.registerMap("XinJiang", window.xingjiangData);

                    // 准备和设置地图数据
                    const mapData = this.prepareMapData();
                    const option = this.getMapOption(mapData);
                    this.chart.setOption(option);

                    // 绑定地图事件
                    this.bindMapEvents();

                    // 模拟加载完成
                    this.simulateLoadingComplete();

                } catch (error) {
                    console.error('地图初始化失败:', error);
                    this.showError('地图加载失败：' + error.message);
                    this.setLoadingState(false, true);
                }
            }

            /**
             * 准备地图数据
             */
            prepareMapData() {
                return Object.keys(this.tourismData).map(region => ({
                    name: region,
                    value: this.tourismData[region].value
                }));
            }

            /**
             * 获取地图配置选项 - 优化版本
             */
            getMapOption(mapData) {
                return {
                    backgroundColor: 'transparent',
                    tooltip: {
                        trigger: 'item',
                        backgroundColor: 'rgba(255, 255, 255, 0.95)',
                        borderColor: 'rgba(255, 193, 7, 0.4)',
                        borderWidth: 2,
                        textStyle: {
                            color: '#263238',
                            fontSize: 14
                        },
                        formatter: (params) => this.formatTooltip(params),
                        padding: [12, 16],
                        borderRadius: 8
                    },
                    visualMap: {
                        left: 30,
                        top: 30,
                        min: this.config.colorRange.min,
                        max: this.config.colorRange.max,
                        text: ['高', '低'],
                        realtime: false,
                        calculable: true,
                        inRange: {
                            color: ["#FFF9C4", "#FFECB3", "#FFE082", "#FFD54F", "#FFB300"]
                        },
                        textStyle: {
                            color: '#263238',
                            fontSize: 14,
                            fontWeight: 'bold'
                        },
                        backgroundColor: 'rgba(255, 255, 255, 0.9)',
                        borderColor: 'rgba(255, 193, 7, 0.4)',
                        borderRadius: 8,
                        borderWidth: 2,
                        padding: [10, 15]
                    },
                    geo: {
                        map: 'XinJiang',
                        roam: true,
                        zoom: this.config.mapZoom,
                        center: this.config.mapCenter,
                        label: {
                            show: true,
                            color: '#263238',
                            fontSize: 12,
                            fontWeight: 'bold'
                        },
                        itemStyle: {
                            areaColor: '#FFF9C4',
                            borderColor: '#FFA726',
                            borderWidth: 1.5,
                            shadowColor: 'rgba(255, 152, 0, 0.2)',
                            shadowBlur: 15
                        },
                        emphasis: {
                            itemStyle: {
                                areaColor: '#FFB300',
                                borderColor: '#FF9800',
                                borderWidth: 2.5,
                                shadowColor: 'rgba(255, 152, 0, 0.4)',
                                shadowBlur: 25
                            },
                            label: {
                                color: '#fff',
                                fontWeight: 'bold',
                                fontSize: 14,
                                backgroundColor: 'rgba(255, 152, 0, 0.8)',
                                padding: [4, 8],
                                borderRadius: 4
                            }
                        }
                    },
                    series: [{
                        name: '旅游接待人数',
                        type: 'map',
                        map: 'XinJiang',
                        geoIndex: 0,
                        data: mapData,
                        emphasis: {
                            label: {
                                show: true,
                                color: '#fff',
                                fontWeight: 'bold',
                                fontSize: 14,
                                backgroundColor: 'rgba(255, 152, 0, 0.8)',
                                padding: [4, 8],
                                borderRadius: 4
                            }
                        },
                        selectedMode: 'single',
                        select: {
                            itemStyle: { areaColor: '#FF9800' }
                        }
                    }]
                };
            }

            /**
             * 格式化工具提示
             */
            formatTooltip(params) {
                const data = this.tourismData[params.name];
                if (!data) return `<div style="font-weight:bold">${params.name}</div>`;

                return `
                    <div style="font-size:16px;font-weight:bold;margin-bottom:10px;background:linear-gradient(45deg, #FF9800, #FFC107);-webkit-background-clip:text;background-clip:text;color:transparent;">
                        ${params.name}
                    </div>
                    <div style="font-size:13px;line-height:1.6;color:#546E7A">
                        <div>接待人数：<b style="color:#FF9800">${data.value}万人次</b></div>
                        <div>同比增长：<b style="color:#66BB6A">${data.growth}</b></div>
                        <div>景区数量：<b style="color:#1E88E5">${data.attractions}个</b></div>
                        <div style="margin-top:8px;color:#78909C">${data.description.substring(0, 60)}...</div>
                    </div>
                `;
            }

            /**
             * 绑定地图事件 - 优化版本
             */
            bindMapEvents() {
                if (!this.chart) return;

                // 地图点击事件
                this.chart.on('click', (params) => {
                    const regionName = params.name;
                    const data = this.tourismData[regionName];
                    if (data) {
                        this.showRegionDetail(regionName, data);
                    }
                });

                // 地图鼠标移动事件
                this.chart.on('mouseover', (params) => {
                    const regionName = params.name;
                    const data = this.tourismData[regionName];
                    if (data) {
                        this.updateInfoPanel(regionName, data);
                    }
                });

                this.chart.on('mouseout', () => {
                    if (this.elements.infoCloud) {
                        this.elements.infoCloud.classList.remove('active');
                    }
                });
            }

            /**
             * 绑定窗口大小变化事件 - 防抖优化
             */
            bindResizeEvent() {
                window.addEventListener('resize', () => {
                    if (this.resizeTimeout) {
                        clearTimeout(this.resizeTimeout);
                    }

                    this.resizeTimeout = setTimeout(() => {
                        if (this.chart) {
                            this.chart.resize();
                        }
                        this.resizeTimeout = null;
                    }, this.config.debounceDelay);
                });
            }

            /**
             * 设置加载状态
             */
            setLoadingState(loading, isError = false) {
                this.isLoading = loading;

                if (this.elements.loadingOverlay) {
                    if (loading) {
                        this.elements.loadingOverlay.style.display = 'flex';
                        this.elements.loadingOverlay.classList.remove('error-state');
                    } else {
                        this.elements.loadingOverlay.style.opacity = '0';
                        setTimeout(() => {
                            if (this.elements.loadingOverlay) {
                                this.elements.loadingOverlay.style.display = 'none';
                            }
                        }, 500);
                    }
                }

                if (isError && this.elements.loadingOverlay) {
                    this.elements.loadingOverlay.classList.add('error-state');
                }
            }

            /**
             * 模拟加载完成
             */
            simulateLoadingComplete() {
                setTimeout(() => {
                    this.setLoadingState(false);
                }, this.config.loadingDuration);
            }

            /**
             * 更新信息面板
             */
            updateInfoPanel(regionName, data) {
                if (!this.elements.cloudTitle || !this.elements.cloudContent) return;

                this.elements.cloudTitle.textContent = regionName;

                // 生成数据卡片
                const dataFlowerHTML = `
                    <div class="data-petal" role="button" tabindex="0" onclick="app.showRegionDetail('${regionName}', app.tourismData['${regionName}'])" onkeydown="if(event.key==='Enter'||event.key===' ') app.showRegionDetail('${regionName}', app.tourismData['${regionName}'])">
                        <div class="petal-value">${data.value}</div>
                        <div class="petal-label">接待人数(万人次)</div>
                    </div>
                    <div class="data-petal" role="button" tabindex="0" onclick="app.showRegionDetail('${regionName}', app.tourismData['${regionName}'])" onkeydown="if(event.key==='Enter'||event.key===' ') app.showRegionDetail('${regionName}', app.tourismData['${regionName}'])">
                        <div class="petal-value">${data.growth}</div>
                        <div class="petal-label">同比增长</div>
                    </div>
                    <div class="data-petal" role="button" tabindex="0" onclick="app.showRegionDetail('${regionName}', app.tourismData['${regionName}'])" onkeydown="if(event.key==='Enter'||event.key===' ') app.showRegionDetail('${regionName}', app.tourismData['${regionName}'])">
                        <div class="petal-value">${data.attractions}</div>
                        <div class="petal-label">景区数量(个)</div>
                    </div>
                `;

                // 添加链接
                const linkHTML = data.link ? `
                    <a href="${data.link}" target="_blank" rel="noopener noreferrer" class="region-link" aria-label="查看更多关于${regionName}的信息">
                        <i class="fas fa-external-link-alt" aria-hidden="true"></i>
                        查看更多关于${regionName}
                    </a>
                ` : '';

                this.elements.cloudContent.innerHTML = `
                    <p style="color: var(--text-gray); line-height: 1.8; margin-bottom: 25px;">
                        ${data.description}
                    </p>
                    <div class="data-flower" id="dataFlower" role="list">
                        ${dataFlowerHTML}
                    </div>
                    ${linkHTML}
                `;

                this.elements.infoCloud.classList.add('active');
            }

            /**
             * 显示区域详情模态框
             */
            showRegionDetail(regionName, data) {
                if (!this.elements.modalTitle || !this.elements.modalBody) return;

                this.elements.modalTitle.textContent = regionName;

                const linkHTML = data.link ? `
                    <div style="margin-top: 40px; text-align: center;">
                        <a href="${data.link}" target="_blank" rel="noopener noreferrer" class="region-link" aria-label="查看${regionName}百度百科详情">
                            <i class="fas fa-external-link-alt" aria-hidden="true"></i>
                            查看${regionName}百度百科详情
                        </a>
                    </div>
                ` : '';

                this.elements.modalBody.innerHTML = `
                    <div style="color: var(--text-gray); line-height: 1.8; font-size: 1.1rem; margin-bottom: 30px;">
                        ${data.description}
                    </div>
                    
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 30px;">
                        <div style="background: linear-gradient(135deg, rgba(255, 193, 7, 0.2), rgba(255, 152, 0, 0.3)); 
                                    padding: 25px; border-radius: var(--border-radius); text-align: center; border: 2px solid rgba(255, 193, 7, 0.4);">
                            <div style="font-size: 0.9rem; color: var(--text-gray); margin-bottom: 10px; font-weight: 600;">接待人数</div>
                            <div style="font-size: 2.5rem; font-weight: 800; background: linear-gradient(45deg, #FF9800, #FFC107); -webkit-background-clip: text; background-clip: text; color: transparent;">${data.value}</div>
                            <div style="font-size: 0.9rem; color: var(--text-gray); margin-top: 8px;">万人次</div>
                        </div>
                        <div style="background: linear-gradient(135deg, rgba(102, 187, 106, 0.2), rgba(76, 175, 80, 0.3)); 
                                    padding: 25px; border-radius: var(--border-radius); text-align: center; border: 2px solid rgba(102, 187, 106, 0.4);">
                            <div style="font-size: 0.9rem; color: var(--text-gray); margin-bottom: 10px; font-weight: 600;">同比增长</div>
                            <div style="font-size: 2.5rem; font-weight: 800; background: linear-gradient(45deg, #66BB6A, #4CAF50); -webkit-background-clip: text; background-clip: text; color: transparent;">${data.growth}</div>
                            <div style="font-size: 0.9rem; color: var(--text-gray); margin-top: 8px;">较2023年</div>
                        </div>
                        <div style="background: linear-gradient(135deg, rgba(66, 165, 245, 0.2), rgba(30, 136, 229, 0.3)); 
                                    padding: 25px; border-radius: var(--border-radius); text-align: center; border: 2px solid rgba(66, 165, 245, 0.4);">
                            <div style="font-size: 0.9rem; color: var(--text-gray); margin-bottom: 10px; font-weight: 600;">景区数量</div>
                            <div style="font-size: 2.5rem; font-weight: 800; background: linear-gradient(45deg, #42A5F5, #1E88E5); -webkit-background-clip: text; background-clip: text; color: transparent;">${data.attractions}</div>
                            <div style="font-size: 0.9rem; color: var(--text-gray); margin-top: 8px;">个景点</div>
                        </div>
                    </div>
                    
                    <div style="background: linear-gradient(135deg, rgba(255, 255, 255, 0.9), rgba(245, 247, 250, 0.9)); 
                                padding: 20px; border-radius: var(--border-radius); border: 2px solid rgba(255, 193, 7, 0.3);">
                        <div style="color: var(--text-gray); font-size: 1rem; text-align: center; font-weight: 500;">
                            <i class="fas fa-info-circle" style="color: #FF9800; margin-right: 10px;" aria-hidden="true"></i> 
                            数据来源：新疆旅游局2024年度报告
                        </div>
                    </div>
                    
                    ${linkHTML}
                `;

                this.elements.modalOverlay.classList.add('active');
                document.body.style.overflow = 'hidden';
                this.elements.modalOverlay.setAttribute('aria-hidden', 'false');
            }

            /**
             * 绑定模态框事件
             */
            bindModalEvents() {
                const closeModal = () => {
                    if (this.elements.modalOverlay) {
                        this.elements.modalOverlay.classList.remove('active');
                        this.elements.modalOverlay.setAttribute('aria-hidden', 'true');
                    }
                    document.body.style.overflow = 'auto';
                };

                // 关闭按钮
                this.elements.modalClose?.addEventListener('click', closeModal);

                // 点击背景关闭
                this.elements.modalOverlay?.addEventListener('click', (e) => {
                    if (e.target === this.elements.modalOverlay) {
                        closeModal();
                    }
                });

                // 暴露到全局
                window.closeModal = closeModal;
            }

            /**
             * 绑定键盘事件
             */
            bindKeyboardEvents() {
                document.addEventListener('keydown', (e) => {
                    // ESC关闭模态框
                    if (e.key === 'Escape') {
                        if (this.elements.modalOverlay?.classList.contains('active')) {
                            window.closeModal?.();
                        }
                    }
                });
            }

            /**
             * 添加无障碍支持
             */
            addAccessibilitySupport() {
                // 为模态框添加焦点管理
                this.elements.modalOverlay?.addEventListener('transitionend', () => {
                    if (this.elements.modalOverlay.classList.contains('active')) {
                        this.elements.modalClose?.focus();
                    }
                });
            }

            /**
             * 显示错误信息 - 优化版本
             */
            showError(message) {
                // 移除已存在的错误提示
                const existingError = document.querySelector('.error-toast');
                if (existingError) {
                    existingError.remove();
                }

                // 创建错误提示元素
                const errorDiv = document.createElement('div');
                errorDiv.className = 'error-toast';
                errorDiv.setAttribute('role', 'alert');
                errorDiv.setAttribute('aria-live', 'assertive');
                errorDiv.style.cssText = `
                    position: fixed;
                    top: 50%;
                    left: 50%;
                    transform: translate(-50%, -50%);
                    background: linear-gradient(135deg, #FF5252, #F44336);
                    color: white;
                    padding: 20px 40px;
                    border-radius: 10px;
                    font-size: 1.1rem;
                    z-index: 3000;
                    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
                    animation: errorShake 0.5s;
                    max-width: 90vw;
                    text-align: center;
                    line-height: 1.5;
                `;
                errorDiv.textContent = message;
                document.body.appendChild(errorDiv);

                // 添加动画样式
                if (!document.getElementById('error-animation-style')) {
                    const style = document.createElement('style');
                    style.id = 'error-animation-style';
                    style.textContent = `
                        @keyframes errorShake {
                            0%, 100% { transform: translate(-50%, -50%) translateX(0); }
                            25% { transform: translate(-50%, -50%) translateX(-10px); }
                            75% { transform: translate(-50%, -50%) translateX(10px); }
                        }
                    `;
                    document.head.appendChild(style);
                }

                // 3秒后自动移除
                setTimeout(() => {
                    if (errorDiv.parentNode) {
                        errorDiv.remove();
                    }
                }, 3000);
            }

            /**
             * 重新加载地图
             */
            reloadMap() {
                if (this.chart) {
                    this.chart.dispose();
                    this.chart = null;
                }

                if (this.elements['xinjiang-map']) {
                    this.elements['xinjiang-map'].innerHTML = '';
                    setTimeout(() => {
                        this.initMap();
                    }, 100);
                }
            }

            /**
             * 销毁应用资源
             */
            destroy() {
                if (this.chart) {
                    this.chart.dispose();
                    this.chart = null;
                }

                if (this.resizeTimeout) {
                    clearTimeout(this.resizeTimeout);
                    this.resizeTimeout = null;
                }
            }
        }

        // 创建应用实例
        const app = new XinjiangTourismApp();

        // 页面加载完成后的额外初始化
        document.addEventListener('DOMContentLoaded', function () {
            console.log('新疆旅游数据可视化平台已加载完成');

            // 添加页面可见性变化监听，优化性能
            document.addEventListener('visibilitychange', function () {
                if (document.hidden) {
                    // 页面隐藏时暂停动画
                    document.body.style.animationPlayState = 'paused';
                } else {
                    // 页面显示时恢复动画
                    document.body.style.animationPlayState = 'running';
                }
            });
        });

        // 页面卸载时清理资源
        window.addEventListener('beforeunload', function () {
            if (app) {
                app.destroy();
            }
        });

        // 暴露到全局作用域
        window.app = app;
    </script>
</body>

</html>